<% ValidOptionsChecker.call(@options, %i[rate_params category_list active_category]) %>

<h1>Films#index</h1>

<% if can? :manage, Film.new %>
  <%= link_to 'add new film', new_film_path %>
<% end %>

<%= form_tag films_path, method: :get do %>
  <%= filter_tag @options[:category_list], 
                 @options[:active_category] %>
  <%= submit_tag 'filter' %>
<% end %>

<%= paginate @films, theme: 'bootstrap-5' %>

<% @films.each do |film| %>
  <%= render 'films/shared/film', local_options: PartialsDataCollector.call(film, @options[:rate_params]) %>
<% end %>

<%= paginate @films, theme: 'bootstrap-5' %>
